#include <stdio.h>
#include <stdlib.h>

struct prim
{
	int nNumber;
	int nPower;
};

int isPrime(int x)
{
	int d;
	for(d=2; d<x/2; d++)
	{
		if(x%d == 0)
			return -1;
	}
	return 1;
}

void main()
{
	int nNumber, nCounter = 0, i=0, j=0;
	struct prim arrOfPrimes[30];
	struct prim arrDecomposition[10];

	printf("Insert the number to decompose: ");
	scanf("%d", &nNumber);

	for(i=2; i<nNumber; i++)
	{
		if(isPrime(i) == 1)
		{
			arrOfPrimes[nCounter].nNumber = i;
			nCounter++;
		}
	}

	i=0; j=-1;
	while (nNumber != 1)
	{
		if(nNumber % arrOfPrimes[i].nNumber == 0)
		{
			j++;
			arrDecomposition[j].nNumber = arrOfPrimes[i].nNumber;
			arrDecomposition[j].nPower = 0;
			while(nNumber % arrOfPrimes[i].nNumber == 0)
			{
				nNumber = nNumber / arrOfPrimes[i].nNumber;
				arrDecomposition[j].nPower ++;
			}
		}
		i++;
	}

	i=0;
	while(i<=j)
	{
		printf("%d", arrDecomposition[i].nNumber);
		printf("^");
		printf("%d", arrDecomposition[i].nPower);
		if(i!=j)
		{
			printf(" * ");
		}
		i++;
	}
}
